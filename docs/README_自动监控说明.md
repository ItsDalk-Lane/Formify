# 文件复制移动工具 - 自动监控功能说明

## 功能概述

该工具可以监控指定源文件的变动，并在检测到文件修改时自动执行复制任务，将文件复制到目标目录。

## 使用方法

### 1. 手动模式（原有功能）

```bash
python 文件复制移动.py
```

运行后会提示选择复制模式：
- 复制特定一对文件
- 复制所有文件对

### 2. 自动监控模式（新增功能）

#### 方式一：交互式选择

```bash
python 文件复制移动.py --auto
```

运行后会显示所有可用的文件对，并提示选择要监控的文件对（可多选）。

#### 方式二：命令行指定

```bash
python 文件复制移动.py --auto --pairs pair1,pair3
```

直接指定要监控的文件对ID（多个用逗号分隔）。

## 监控原理

1. 使用Python的watchdog库监控文件系统事件
2. 当监控的源文件被修改时，自动触发复制操作
3. 为避免短时间内重复触发，设置了2秒的防抖间隔
4. 按Ctrl+C可停止监控

## 注意事项

1. 首次使用前需要安装watchdog库：
   ```bash
   pip install watchdog
   ```

2. 确保源文件路径和目标文件夹路径正确

3. 自动监控模式会持续运行，直到手动停止（Ctrl+C）

4. 如果源文件频繁变动，可能会触发多次复制操作，这是正常现象

## 示例

监控form-flow插件文件变动并自动复制到Obsidian沙箱仓库：

```bash
python 文件复制移动.py --auto --pairs pair1
```

监控所有配置的文件对：

```bash
python 文件复制移动.py --auto
# 然后输入'all'或选择所有文件对
```