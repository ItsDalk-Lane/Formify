# MVP #002: Settings 基础框架

## 状态: pending

## 目标
实现插件设置的加载、保存和基础 UI 展示。

## 功能边界
- [x] 定义 PluginSettings 接口
- [x] 定义 DEFAULT_SETTINGS 默认值
- [x] 实现 loadSettings / saveSettings
- [x] 创建 PluginSettingTab（继承 PluginSettingTab）
- [x] 添加基础设置项：formFolder、scriptFolder
- [x] React 渲染设置页面

## 不做
- TARS/Chat 相关设置
- API Key 加密
- 复杂的设置迁移
- 设置验证

## 验收标准
1. 插件设置能正常保存和加载
2. 设置页面能正确显示
3. 修改设置后重启插件设置保持

## 依赖
- MVP001（插件骨架）

## 参考代码
```typescript
// PluginSettings.ts
export interface PluginSettings {
  formFolder: string;
  scriptFolder: string;
  promptTemplateFolder: string;
}

export const DEFAULT_SETTINGS: PluginSettings = {
  formFolder: 'System/formify',
  scriptFolder: 'System/scripts',
  promptTemplateFolder: 'System/ai prompts'
};
```

```typescript
// main.ts 扩展
import { PluginSettingTab } from './settings/PluginSettingTab';

export default class FormPlugin extends Plugin {
  settings: PluginSettings;

  async onload() {
    await this.loadSettings();
    this.addSettingTab(new PluginSettingTab(this.app, this));
  }

  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }

  async saveSettings() {
    await this.saveData(this.settings);
  }
}
```

## 预估时间
45-60 分钟
