# MVP #004: ServiceContainer 依赖注入

## 状态: pending

## 目标
创建中央依赖注入容器，管理所有服务的生命周期。

## 功能边界
- [x] 创建 ServiceContainer 类
- [x] 实现单例模式和全局访问函数
- [x] 支持延迟初始化（App 相关服务）
- [x] 实现 dispose 清理方法

## 不做
- 具体服务实现（后续 MVP）
- 自动依赖解析

## 验收标准
1. getServiceContainer() 返回单例
2. initializeWithApp() 能正确初始化
3. dispose() 能清理所有资源

## 依赖
- MVP001（插件骨架）

## 参考代码
```typescript
// src/service/ServiceContainer.ts
import { App } from 'obsidian';
import FormPlugin from '../main';

let globalServiceContainer: ServiceContainer | null = null;

export class ServiceContainer {
  private app: App;
  private plugin: FormPlugin;

  constructor(app: App, plugin: FormPlugin) {
    this.app = app;
    this.plugin = plugin;
    globalServiceContainer = this;
  }

  initializeWithApp(): void {
    // 初始化需要 App 的服务
  }

  dispose(): void {
    globalServiceContainer = null;
  }

  // 后续添加服务 getter
}

export function getServiceContainer(): ServiceContainer {
  if (!globalServiceContainer) {
    throw new Error('ServiceContainer not initialized');
  }
  return globalServiceContainer;
}
```

## 预估时间
30 分钟
