# MVP #011: Action Chain 框架

## 状态: pending

## 目标
实现动作链执行框架和 Visitor 模式。

## 功能边界
- [x] IActionService 接口
- [x] ActionChain 类（动作队列管理）
- [x] ActionContext 类（执行上下文）
- [x] 动作服务注册机制

## 不做
- 具体动作实现（后续 MVP）
- 并行执行

## 验收标准
1. ActionChain 能按顺序执行动作
2. Action 能通过 Visitor 模式分发
3. ActionContext 能在动作间传递状态

## 依赖
- MVP005（数据模型）
- MVP009（模板引擎）

## 参考代码
```typescript
// src/service/action/IActionService.ts
export interface IActionService {
  accept(action: IFormAction): boolean;
  run(action: IFormAction, context: ActionContext, chain: ActionChain): Promise<void>;
}

export class ActionChain {
  private actions: IFormAction[];
  private currentIndex: number = 0;
  private services: IActionService[];

  async next(context: ActionContext): Promise<void> {
    if (this.currentIndex >= this.actions.length) return;
    const action = this.actions[this.currentIndex++];
    const service = this.services.find(s => s.accept(action));
    if (service) {
      await service.run(action, context, this);
    }
  }
}
```

## 预估时间
60-90 分钟
